{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/aplchian/Documents/code/buda-next/components/TypeSelect.tsx\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nimport React from 'react';\nimport FormControl from '@material-ui/core/FormControl';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport { __, complement, compose, find, has, includes, lensPath, map, propEq, propOr, reject, view } from 'ramda';\nimport TextField from '@material-ui/core/TextField';\nimport { useTranslation } from 'react-i18next';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { connect } from 'react-redux';\nimport { removeOfField, updateOfField } from '../../buda/src/redux/actions/manifest';\nconst useStyles = makeStyles(theme => ({\n  formControl: {\n    margin: '0 1em 1em 0',\n    minWidth: 120\n  }\n}));\n\nconst TypeSelect = props => {\n  const {\n    t\n  } = useTranslation();\n  const classes = useStyles();\n  const duplicateTags = ['T0018', 'T0017'];\n  const detailTags = ['T0016'];\n  const duplicateTag = find( // @ts-ignore\n  includes(__, duplicateTags), propOr([], 'tags', props)); // @ts-ignore\n\n  const detailTag = find(includes(__, detailTags), propOr([], 'tags', props));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex w-full\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [!!duplicateTag && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          className: classes.formControl,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n              autoComplete: true,\n              options: reject(propEq('id', props.id), props.duplicateImageOptions),\n              style: {\n                width: 250,\n                marginLeft: 0\n              },\n              autoSelect: true,\n              autoHighlight: true,\n              value: props.duplicateOf,\n              getOptionLabel: ({\n                name\n              }) => name,\n              onChange: (event, newValue) => {\n                if (!newValue) {\n                  props.dispatch(removeOfField(props.i, 'duplicate-of'));\n                } else {\n                  props.dispatch(updateOfField(props.i, newValue, 'duplicate-of'));\n                }\n              },\n              renderInput: params => {\n                return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({\n                  helperText: t('Duplicate of File')\n                }, params), {}, {\n                  fullWidth: true\n                }), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 76,\n                  columnNumber: 45\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 25\n        }, this)\n      }, void 0, false), !!detailTag && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          className: classes.formControl,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(Autocomplete, {\n              autoComplete: true,\n              options: reject(propEq('id', props.id), props.duplicateImageOptions),\n              style: {\n                width: 250\n              },\n              autoSelect: true,\n              autoHighlight: true,\n              value: props.duplicateOf,\n              getOptionLabel: ({\n                name\n              }) => name,\n              onChange: (event, newValue) => {\n                if (!newValue) {\n                  props.dispatch(removeOfField(props.i, 'detail-of'));\n                } else {\n                  props.dispatch(updateOfField(props.i, newValue, 'detail-of'));\n                }\n              },\n              renderInput: params => {\n                return /*#__PURE__*/_jsxDEV(TextField, _objectSpread(_objectSpread({\n                  helperText: t('Detail of File')\n                }, params), {}, {\n                  fullWidth: true\n                }), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 125,\n                  columnNumber: 45\n                }, this);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 25\n        }, this)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 9\n  }, this);\n};\n\nTypeSelect.whyDidYouRender = false;\n\nconst mapStateToProps = function (state) {\n  const imageListLens = lensPath(['view', 'view1', 'imagelist']);\n  const imageList = view(imageListLens, state.manifest) || [];\n  return {\n    duplicateImageOptions: compose(map(({\n      id,\n      filename\n    }) => ({\n      id,\n      name: filename\n    })), // @ts-ignore\n    reject(complement(has)('filename')) // @ts-ignore\n    )(imageList)\n  };\n};\n\nexport default connect(mapStateToProps)(TypeSelect);","map":{"version":3,"sources":["/Users/aplchian/Documents/code/buda-next/components/TypeSelect.tsx"],"names":["React","FormControl","Autocomplete","__","complement","compose","find","has","includes","lensPath","map","propEq","propOr","reject","view","TextField","useTranslation","makeStyles","connect","removeOfField","updateOfField","useStyles","theme","formControl","margin","minWidth","TypeSelect","props","t","classes","duplicateTags","detailTags","duplicateTag","detailTag","id","duplicateImageOptions","width","marginLeft","duplicateOf","name","event","newValue","dispatch","i","params","whyDidYouRender","mapStateToProps","state","imageListLens","imageList","manifest","filename"],"mappings":";;;;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,YAAP,MAAyB,+BAAzB;AACA,SAASC,EAAT,EAAaC,UAAb,EAAyBC,OAAzB,EAAkCC,IAAlC,EAAwCC,GAAxC,EAA6CC,QAA7C,EAAuDC,QAAvD,EAAiEC,GAAjE,EAAsEC,MAAtE,EAA8EC,MAA9E,EAAsFC,MAAtF,EAA8FC,IAA9F,QAA0G,OAA1G;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,SAASC,cAAT,QAA+B,eAA/B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,uCAA7C;AAGA,MAAMC,SAAS,GAAGJ,UAAU,CAACK,KAAK,KAAK;AACnCC,EAAAA,WAAW,EAAE;AACTC,IAAAA,MAAM,EAAE,aADC;AAETC,IAAAA,QAAQ,EAAE;AAFD;AADsB,CAAL,CAAN,CAA5B;;AAOA,MAAMC,UAAU,GAAIC,KAAD,IAOb;AACF,QAAM;AAAEC,IAAAA;AAAF,MAAQZ,cAAc,EAA5B;AACA,QAAMa,OAAO,GAAGR,SAAS,EAAzB;AACA,QAAMS,aAAa,GAAG,CAAC,OAAD,EAAU,OAAV,CAAtB;AACA,QAAMC,UAAU,GAAG,CAAC,OAAD,CAAnB;AACA,QAAMC,YAAY,GAAG1B,IAAI,EACrB;AACAE,EAAAA,QAAQ,CAACL,EAAD,EAAK2B,aAAL,CAFa,EAGrBlB,MAAM,CAAC,EAAD,EAAK,MAAL,EAAae,KAAb,CAHe,CAAzB,CALE,CAUF;;AACA,QAAMM,SAAS,GAAG3B,IAAI,CAACE,QAAQ,CAACL,EAAD,EAAK4B,UAAL,CAAT,EAA2BnB,MAAM,CAAC,EAAD,EAAK,MAAL,EAAae,KAAb,CAAjC,CAAtB;AACA,sBACI;AAAK,IAAA,SAAS,EAAC,aAAf;AAAA,2BACI;AAAA,iBACK,CAAC,CAACK,YAAF,iBACG;AAAA,+BACI,QAAC,WAAD;AAAa,UAAA,SAAS,EAAEH,OAAO,CAACN,WAAhC;AAAA,iCACI;AAAA,mCACI,QAAC,YAAD;AACI,cAAA,YAAY,MADhB;AAEI,cAAA,OAAO,EAAEV,MAAM,CACXF,MAAM,CAAC,IAAD,EAAOgB,KAAK,CAACO,EAAb,CADK,EAEXP,KAAK,CAACQ,qBAFK,CAFnB;AAMI,cAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAE,GAAT;AAAcC,gBAAAA,UAAU,EAAE;AAA1B,eANX;AAOI,cAAA,UAAU,MAPd;AAQI,cAAA,aAAa,MARjB;AASI,cAAA,KAAK,EAAEV,KAAK,CAACW,WATjB;AAUI,cAAA,cAAc,EAAE,CAAC;AAAEC,gBAAAA;AAAF,eAAD,KAAcA,IAVlC;AAWI,cAAA,QAAQ,EAAE,CAACC,KAAD,EAAaC,QAAb,KAA+B;AACrC,oBAAI,CAACA,QAAL,EAAe;AACXd,kBAAAA,KAAK,CAACe,QAAN,CACIvB,aAAa,CACTQ,KAAK,CAACgB,CADG,EAET,cAFS,CADjB;AAMH,iBAPD,MAOO;AACHhB,kBAAAA,KAAK,CAACe,QAAN,CACItB,aAAa,CACTO,KAAK,CAACgB,CADG,EAETF,QAFS,EAGT,cAHS,CADjB;AAOH;AACJ,eA5BL;AA6BI,cAAA,WAAW,EAAEG,MAAM,IAAI;AACnB,oCACI,QAAC,SAAD;AACI,kBAAA,UAAU,EAAEhB,CAAC,CACT,mBADS;AADjB,mBAIQgB,MAJR;AAKI,kBAAA,SAAS;AALb;AAAA;AAAA;AAAA;AAAA,wBADJ;AASH;AAvCL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,uBAFR,EAkDK,CAAC,CAACX,SAAF,iBACG;AAAA,+BACI,QAAC,WAAD;AAAa,UAAA,SAAS,EAAEJ,OAAO,CAACN,WAAhC;AAAA,iCACI;AAAA,mCACI,QAAC,YAAD;AACI,cAAA,YAAY,MADhB;AAEI,cAAA,OAAO,EAAEV,MAAM,CACXF,MAAM,CAAC,IAAD,EAAOgB,KAAK,CAACO,EAAb,CADK,EAEXP,KAAK,CAACQ,qBAFK,CAFnB;AAMI,cAAA,KAAK,EAAE;AAAEC,gBAAAA,KAAK,EAAE;AAAT,eANX;AAOI,cAAA,UAAU,MAPd;AAQI,cAAA,aAAa,MARjB;AASI,cAAA,KAAK,EAAET,KAAK,CAACW,WATjB;AAUI,cAAA,cAAc,EAAE,CAAC;AAAEC,gBAAAA;AAAF,eAAD,KAAcA,IAVlC;AAWI,cAAA,QAAQ,EAAE,CAACC,KAAD,EAAaC,QAAb,KAA+B;AACrC,oBAAI,CAACA,QAAL,EAAe;AACXd,kBAAAA,KAAK,CAACe,QAAN,CACIvB,aAAa,CACTQ,KAAK,CAACgB,CADG,EAET,WAFS,CADjB;AAMH,iBAPD,MAOO;AACHhB,kBAAAA,KAAK,CAACe,QAAN,CACItB,aAAa,CACTO,KAAK,CAACgB,CADG,EAETF,QAFS,EAGT,WAHS,CADjB;AAOH;AACJ,eA5BL;AA6BI,cAAA,WAAW,EAAEG,MAAM,IAAI;AACnB,oCACI,QAAC,SAAD;AACI,kBAAA,UAAU,EAAEhB,CAAC,CAAC,gBAAD;AADjB,mBAEQgB,MAFR;AAGI,kBAAA,SAAS;AAHb;AAAA;AAAA;AAAA;AAAA,wBADJ;AAOH;AArCL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ,uBAnDR;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAsGH,CAzHD;;AA2HAlB,UAAU,CAACmB,eAAX,GAA6B,KAA7B;;AAEA,MAAMC,eAAe,GAAG,UAASC,KAAT,EAAqB;AACzC,QAAMC,aAAa,GAAGvC,QAAQ,CAAC,CAAC,MAAD,EAAS,OAAT,EAAkB,WAAlB,CAAD,CAA9B;AACA,QAAMwC,SAAS,GAAInC,IAAI,CAACkC,aAAD,EAAgBD,KAAK,CAACG,QAAtB,CAAL,IAAyD,EAA3E;AACA,SAAO;AACHf,IAAAA,qBAAqB,EAAE9B,OAAO,CAC1BK,GAAG,CAAC,CAAC;AAAEwB,MAAAA,EAAF;AAAMiB,MAAAA;AAAN,KAAD,MAAuB;AAAEjB,MAAAA,EAAF;AAAMK,MAAAA,IAAI,EAAEY;AAAZ,KAAvB,CAAD,CADuB,EAE1B;AACAtC,IAAAA,MAAM,CAACT,UAAU,CAACG,GAAD,CAAV,CAAgB,UAAhB,CAAD,CAHoB,CAI1B;AAJ0B,KAAP,CAKrB0C,SALqB;AADpB,GAAP;AAQH,CAXD;;AAaA,eAAe/B,OAAO,CAAC4B,eAAD,CAAP,CAAyBpB,UAAzB,CAAf","sourcesContent":["import React from 'react'\nimport FormControl from '@material-ui/core/FormControl'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport { __, complement, compose, find, has, includes, lensPath, map, propEq, propOr, reject, view } from 'ramda'\nimport TextField from '@material-ui/core/TextField'\nimport { useTranslation } from 'react-i18next'\nimport { makeStyles } from '@material-ui/core/styles'\nimport { connect } from 'react-redux'\nimport { removeOfField, updateOfField } from '../../buda/src/redux/actions/manifest'\nimport { Buda } from '../../buda/types'\n\nconst useStyles = makeStyles(theme => ({\n    formControl: {\n        margin: '0 1em 1em 0',\n        minWidth: 120,\n    },\n}))\n\nconst TypeSelect = (props: {\n    id: any\n    duplicateImageOptions: readonly Record<'id', any>[]\n    duplicateOf: any\n    tags: any\n    i?: any\n    dispatch: any\n}) => {\n    const { t } = useTranslation()\n    const classes = useStyles()\n    const duplicateTags = ['T0018', 'T0017']\n    const detailTags = ['T0016']\n    const duplicateTag = find(\n        // @ts-ignore\n        includes(__, duplicateTags),\n        propOr([], 'tags', props)\n    )\n    // @ts-ignore\n    const detailTag = find(includes(__, detailTags), propOr([], 'tags', props))\n    return (\n        <div className=\"flex w-full\">\n            <div>\n                {!!duplicateTag && (\n                    <>\n                        <FormControl className={classes.formControl}>\n                            <div>\n                                <Autocomplete\n                                    autoComplete\n                                    options={reject(\n                                        propEq('id', props.id),\n                                        props.duplicateImageOptions\n                                    )}\n                                    style={{ width: 250, marginLeft: 0 }}\n                                    autoSelect\n                                    autoHighlight\n                                    value={props.duplicateOf}\n                                    getOptionLabel={({ name }) => name}\n                                    onChange={(event: any, newValue: any) => {\n                                        if (!newValue) {\n                                            props.dispatch(\n                                                removeOfField(\n                                                    props.i,\n                                                    'duplicate-of'\n                                                )\n                                            )\n                                        } else {\n                                            props.dispatch(\n                                                updateOfField(\n                                                    props.i,\n                                                    newValue,\n                                                    'duplicate-of'\n                                                )\n                                            )\n                                        }\n                                    }}\n                                    renderInput={params => {\n                                        return (\n                                            <TextField\n                                                helperText={t(\n                                                    'Duplicate of File'\n                                                )}\n                                                {...params}\n                                                fullWidth\n                                            />\n                                        )\n                                    }}\n                                />\n                            </div>\n                        </FormControl>\n                    </>\n                )}\n                {!!detailTag && (\n                    <>\n                        <FormControl className={classes.formControl}>\n                            <div>\n                                <Autocomplete\n                                    autoComplete\n                                    options={reject(\n                                        propEq('id', props.id),\n                                        props.duplicateImageOptions\n                                    )}\n                                    style={{ width: 250 }}\n                                    autoSelect\n                                    autoHighlight\n                                    value={props.duplicateOf}\n                                    getOptionLabel={({ name }) => name}\n                                    onChange={(event: any, newValue: any) => {\n                                        if (!newValue) {\n                                            props.dispatch(\n                                                removeOfField(\n                                                    props.i,\n                                                    'detail-of'\n                                                )\n                                            )\n                                        } else {\n                                            props.dispatch(\n                                                updateOfField(\n                                                    props.i,\n                                                    newValue,\n                                                    'detail-of'\n                                                )\n                                            )\n                                        }\n                                    }}\n                                    renderInput={params => {\n                                        return (\n                                            <TextField\n                                                helperText={t('Detail of File')}\n                                                {...params}\n                                                fullWidth\n                                            />\n                                        )\n                                    }}\n                                />\n                            </div>\n                        </FormControl>\n                    </>\n                )}\n            </div>\n        </div>\n    )\n}\n\nTypeSelect.whyDidYouRender = false\n\nconst mapStateToProps = function(state: any) {\n    const imageListLens = lensPath(['view', 'view1', 'imagelist'])\n    const imageList = (view(imageListLens, state.manifest) as Buda.Image[]) || []\n    return {\n        duplicateImageOptions: compose(\n            map(({ id, filename }) => ({ id, name: filename })),\n            // @ts-ignore\n            reject(complement(has)('filename'))\n            // @ts-ignore\n        )(imageList)\n    }\n}\n\nexport default connect(mapStateToProps)(TypeSelect)\n"]},"metadata":{},"sourceType":"module"}